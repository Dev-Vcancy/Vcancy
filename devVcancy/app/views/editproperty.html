<header class="header" data-current-skin={{mactrl.currentSkin}} login-header></header>
<section id="main" class="profile-page-both">
   <aside id="sidebar"  login-sidebar data-ng-class="{ 'toggled': mactrl.sidebarToggle.left === true }"></aside>
   <section class="new_dashbord" id="content">
      <div class="container">
         <div class="page-content-wrapper">
            <div class="page-content">
               <h1 class="page-title">  Edit Property And Units </h1>
               <div class="profile">
                  <div class="tabbable-line tabbable-full-width">
                     <div role="tabpanel">
                        <!-- Nav tabs -->
                        <ul class="nav nav-tabs" role="tablist"  ng-init="tab = 1">
                           <li role="presentation" class="active">
                              <a href ng-click="tab = 1" data-toggle="tab" aria-expanded="true" >Property</a>
                           </li>
                           <li role="presentation" ng-show="propctrl.prop.units == 'multiple'">
                              <a href ng-click="tab = 2" data-toggle="tab" aria-expanded="true" >Units</a>
                           </li>
                        </ul>
                        <!-- Tab panes -->
                        <div class="tab-content">
                           <div role="tabpanel" class="tab-pane active" id="home" ng-show="tab === 1">
                              <div class="">
                                 <div class="">
                                    <form name="addpropForm" ng-submit="propctrl.submitProp(propctrl.prop)" class="property editprop" role="form"  enctype="multipart/form-data">
                                       <input type="hidden" name="landlordID" ng-model="propctrl.prop.landlordID" class="form-control" >
                                       <input type="hidden" name="mode" ng-model="propctrl.prop.mode" class="form-control" >
                                       <input type="hidden" name="propID" ng-model="propctrl.prop.propID" class="form-control">
                                       <div class='message' ng-if="$root.error != ''">
                                          <div class="alert alert-danger alert-dismissable fade in">{{$root.error}}</div>
                                       </div>
                                       <div class='message' ng-if="$root.success != ''">
                                          <div class="alert alert-success alert-dismissable fade in">{{$root.success}}</div>
                                       </div>
                                       <div class="row">
                                          <div class="col-lg-9 col-xs-12 col-sm-12 newfrnn">
                                             <div class="form-group fg-float">
                                                <div class="fg-line">
                                                   <input required ng-model="propctrl.prop.name" name="name" required="true"  type="text" class="form-control w-100 phone" id="" placeholder="">
                                                   <label class="fg-label" for="text">Property Name:</label>
                                                </div>
                                             </div>
                                             <div class="clearfix"></div>
                                             <div class="form-group ">
                                                <label>Select Property Type:</label>
                                                <select chosen="" class="form-control" name="proptype" ng-model="propctrl.prop.proptype" ng-change="propctrl.unitsOptional('house')"  required data-placeholder="Prop type" class="w-100 localytics-chosen" >
                                                   <option value="">Property type</option>
                                                   <option value="house">House</option>
                                                   <option value="townhouse">Town House</option>
                                                   <option value="apartment">Apartment</option>
                                                   <option value="condo">Condo</option>
                                                   <option value="coop">Co-op</option>
                                                   <option value="coop">Other</option>
                                                </select>
                                             </div>
                                             <div class="form-group">
                                                <label class="radio-inline"><input type="radio" name="units" ng-model="propctrl.prop.units" value="single" required="true" ng-checked="propctrl.prop.units == 'single'">Single Unit</label>
                                                <label class="radio-inline"><input type="radio" name="units" ng-model="propctrl.prop.units" value="multiple" required="true" ng-checked="propctrl.prop.units == 'multiple'">Multiple Units</label>
                                             </div>
                                             <div class="form-group fg-float" ng-show="propctrl.prop.units == 'multiple'">
                                                <div class="fg-line">
                                                   <input type="number"  ng-model="propctrl.prop.noofunits"  ng-required="propctrl.prop.units == 'multiple'" name="noofunits" class="form-control w-100 phone" id="" placeholder="Address">
                                                   <label class="fg-label" for="text">No of Units:</label>
                                                </div>
                                             </div>
                                             <div class="form-group fg-float">
                                                <div class="fg-line">
                                                   <input id="address" gm-places-autocomplete  ng-model="propctrl.prop.address" ng-change="propctrl.addresschange()" required name="address" class="form-control w-100 phone" id="" placeholder="Address">
                                                   <label class="fg-label" for="text">Street Address:</label>
                                                </div>
                                             </div>
                                             <div class="form-group fg-float threeside row">
                                                <div class="fg-line col-xs-4">
                                                   <input placeholder="City" ng-model="propctrl.prop.city" required name="city" class="form-control w-100 phone"  />
                                                   <label class="fg-label" for="text">City:</label>
                                                </div>
                                                <div class="fg-line col-xs-4">
                                                   <input type="text"  placeholder="Province"   ng-model="propctrl.prop.province"  required name="province" class="form-control w-100 phone" />
                                                   <label class="fg-label" for="text">Province:</label>
                                                </div>
                                                <div class="fg-line col-xs-4">
                                                   <input type="text"   ng-model="propctrl.prop.postcode"  required name="postcode" class="form-control w-100 phone">
                                                   <label class="fg-label" for="text">Postcode:</label>
                                                </div>
                                                <div class="clearfix"></div>
                                             </div>
                                             <div class="form-group fg-float">
                                                <div class="fg-line">
                                                   <input type="text"   ng-model="propctrl.prop.country"  required name="country" class="form-control w-100 phone" id="" placeholder="Address">
                                                   <label class="fg-label" for="text">Street Address:</label>
                                                </div>
                                             </div>
                                          </div>
                                          <div class="col-lg-3 col-xs-12 col-sm-12">
                                             <span>Upload Image</span>
                                             <div class="form-group">
                                                <div class="fileinput fileinput-new" data-provides="fileinput">
                                                   <div class="fileinput-new thumbnail" style="width: 200px; height: 150px;margin:10px 0px;">
                                                      <div ng-if="propctrl.prop.propimage == ''"><img width="640" height="220" class="img-responsive" src="../assets/pages/media/profile/people19.png" /></div>
                                                      <div ng-if="propctrl.prop.propimage != ''"><img width="640" height="220" class="img-responsive" src="{{propctrl.prop.propimage}}" /></div>
                                                   </div>
                                                   <div class="fileinput-preview fileinput-exists thumbnail" style="max-width: 200px; max-height: 150px;"> </div>
                                                   <div>
                                                      <span class="btn default btn-file">
                                                      <span class="fileinput-new"> Select image </span>
                                                      <span class="fileinput-exists"> Change </span>
                                                      <input type="file" name="file" id="file" value="dataFile" >
                                                      </span>
                                                      <a href="javascript:;" class="btn default fileinput-exists" data-dismiss="fileinput"> Remove </a>
                                                   </div>
                                                </div>
                                             </div>
                                          </div>
                                       </div>
                                       <div class="row" ng-show="$root.message == ''">
                                          <div class="col-lg-6 col-xs-12 col-sm-12">
                                             <button data-ng-click="propctrl.backtoviewprop()" class="btn btn-info  pull-left">&lt;&lt; Back</button>
                                             <button type="reset" class="btn btn-danger pull-right m-l-10" ng-show="propctrl.otheraction == 'Cancel'">Cancel</button>
                                             <button type="submit"  class="btn btn-success pull-right">{{propctrl.submitaction}}</button>
                                          </div>
                                       </div>
                                       <div class="clearfix"></div>
                                       <div class="row" ng-if="$root.message != ''">
                                          <div class="col-lg-4 col-xs-12 col-sm-12"></div>
                                          <div class="col-lg-4 col-xs-12 col-sm-12" ng-show="!(propctrl.prop.unitlists| filter:unit).length">
                                             <a href="#/addunits" class="btn btn-info  pull-left">Add Units</a>
                                          </div>
                                          <div class="col-lg-4 col-xs-12 col-sm-12"></div>
                                       </div>
                                    </form>
                                 </div>
                              </div>
                           </div>
                        </div>
                        <div role="tabpanel" class="tab-pane" id="tab" ng-show="tab === 2">
                           <form name="addunitsForm" ng-submit="propctrl.submiteditunits(propctrl.prop.unitlists,propctrl.prop)" role="form" class="addunitsForm">
                              <div class="row">

                                 <div class="col-md-12">
                                     <div class="portlet light ">
                                          <div class="pull-left">
                                           <select name="more" ng-model="more" ng-change="propctrl.moreaction(more)">
                                               <option value="">More</option>
                                               <option value="DAll">Delete All</option>
                                               <option value="Mavailable">Mark Available</option>
                                               <option value="Mranted">Mark Rented</option>
                                           </select>
                                         </div>
                                         <div class="pull-right">
                                           <button type="button" ng-click="propctrl.addmorerowedit(propctrl.prop.noofunits)">Add New<i class="fa fa-plus"></i></button>
                                         </div>
                                     </div>

                                 </div>
                               </div>

                              <div class="mt-bootstrap-tables" ng-show="(propctrl.prop.unitlists| filter:unit).length">
                                 <div class="row">
                                    <div class="col-md-12">
                                       <div class="portlet light ">
                                          <table class="table table-bordered">
                                             <thead>
                                                <tr>
                                                   <th>&nbsp;&nbsp;&nbsp;&nbsp;</th>
                                                   <th>Units No</th>
                                                   <th>Address</th>
                                                   <th>SQ.ft</th>
                                                   <th>Rent</th>
                                                   <th>Bed</th>
                                                   <th>Bath</th>
                                                   <th>Amenities</th>
                                                   <th>Status</th>
                                                   <th></th>
                                                </tr>
                                             </thead>
                                             <tbody >

                                                <tr  ng-repeat="i in propctrl.getNumber(propctrl.prop.noofunits) track by $index" id="{{$index}}">
                                                   <td><input type="checkbox" name="ids" value="{{$index}}"  id="ts_checkbox"></td>
                                                   <td class="table-td"><input type="number" name="unit" ng-model="propctrl.prop.unitlists[$index].unit" class=""  min="0" step="0.01"><input type="hidden" name="unit" ng-model="propctrl.prop.unitlists[$index].unit" class=""  min="0" step="0.01"></td>
                                                   <td><input type="text" name="address" ng-model="propctrl.prop.unitlists[$index].address" ></td>
                                                   <td class="table-td"><input type="number" name="sqft" ng-model="propctrl.prop.unitlists[$index].sqft"  min="0" step="0.01"></td>
                                                   <td class="table-td"><input type="number" name="rent" ng-model="propctrl.prop.unitlists[$index].rent"  min="0" step="0.01"></td>
                                                   <td class="table-td"> <input type="number" name="bathroom" ng-model="propctrl.prop.unitlists[$index].bathroom"  min="0" step="0.01"></td>
                                                   <td>
                                                   
                                                      <select data-placeholder="Status" class="form-control" name="Aminities" ng-model="propctrl.prop.unitlists[$index].Aminities"   required class="w-100 localytics-chosen" data-placeholder="Prop type" multiple="true">
                                                         <option value="lobby">LOBBY</option>
                                                         <option value="gp">GYM & POOL</option>
                                                         <option value="outdoor">OUTDOOR</option>
                                                         <option value="bistro">THE BISTRO</option>
                                                      </select>
                                                   </td>
                                                   <td>
                                                      <select data-placeholder="Status" class="form-control" name="status" ng-model="propctrl.prop.unitlists[$index].status"   required class="w-100 localytics-chosen" data-placeholder="Prop status">
                                                         <option value="">Property status</option>
                                                         <option value="rented">Rented</option>
                                                         <option value="Available">Available</option>
                                                         <option value="sold">Sold</option>
                                                      </select>
                                                   </td>
                                                   <td><button>Details</button></td>
                                                </tr>
                                             </tbody>
                                          </table>
                                       </div>
                                    </div>
                                 </div>
                              </div>
                              <div ng-show="!(propctrl.prop.unitlists| filter:unit).length" class="addunits">
                                 <a href="#/addunits">Add Your Units</a>
                              </div>
                              <div class="row">
                              <div class="col-lg-6 col-xs-12 col-sm-12">
                                 <button data-ng-click="propctrl.backtoviewprop()" class="btn btn-info  pull-left">&lt;&lt; Back</button>
                                 <button type="reset" class="btn btn-danger pull-right m-l-10" ng-show="propctrl.otheraction == 'Cancel'">Cancel</button>
                                  <button type="submit"  class="btn btn-success pull-right">{{propctrl.submitaction}}</button>
                              </div>
                            </div>
                           </form>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </div>
      </div>
   </section>
</section>
