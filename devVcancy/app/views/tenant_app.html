<header class="header" data-current-skin={{mactrl.currentSkin}} login-header>
</header>

<section id="main">
	<aside id="sidebar" login-sidebar data-ng-class="{ 'toggled': mactrl.sidebarToggle.left === true }"></aside>
	<section id="content">

		<div class="container">
			<div class="block-header text-center">
				<h1>Applications</h1>

			</div>
			<div class="loader" ng-if="tappctrl.loader">
				<div class="preloader pl-xl">
					<svg class="pl-circular" viewBox="25 25 50 50">
						<circle class="plc-path" cx="50" cy="50" r="20" />
					</svg>
				</div>
			</div>
			<div class="card white-block p-20">
				<div class="card-body">
					<div class="col-sm-12">
						<button class="btn btn-info" ng-click="tappctrl.openRentalForm()">Rental Application Form</button>
						Incomplete/Complete (just a text. Red colour for incomplete and green for complete)
					</div>
					<div class="clearfix"></div>
				</div>
			</div>
			<div class="card white-block p-20">
				<div class="card-header p-l-15">
					<h2>Submit Application via Email</h2>
				</div>
				<div class="card-body">
					<div class="col-sm-8">
						<input type="email" placeholder="Enter landlordâ€™s email here" ng-model="tappctrl.email" ng-change="tappctrl.emailrequired()"
						 class="form-control m-b-5 w-3">
					</div>
					<div class="col-sm-4">
						<a ng-disabled="tappctrl.disablebutton" ng-click="tappctrl.gotoRental()" class="btn bgm-cyan">Submit</a>
					</div>
					<div class="clearfix"></div>
				</div>
			</div>
			<div class="card white-block p-20">
				<div class="card-header">
					<h2>Pending Applications
						<small>You have viewed these properties, go ahead and Submit Application now</small>
					</h2>
				</div>

				<div class="card-body">
					<div class="table-responsive">
						<table ng-table-dynamic="tappctrl.tableSorting with tappctrl.cols" class="table table-striped table-vmiddle">
							<tr ng-repeat="row in $data">
								<td ng-repeat="col in $columns">{{row[col.field]}}</td>
								<td ng-repeat="col in tappctrl.extracols">
									<a href="#/rentalform/{{row[col.field]}}/{{row.applicationID}}" class="btn bgm-cyan">Submit</a>
								</td>
							</tr>
							<tr ng-if="tappctrl.pendingappsavail == 0">
								<td colspan='2'>
									No pending applications yet </td>
							</tr>
						</table>

					</div>

				</div>
			</div>
			<div class="card white-block p-20">
				<div class="card-header">
					<h2>Submitted Applications
						<small>All applications submitted to landlords and waiting for response</small>
					</h2>
				</div>

				<div class="card-body">
					<div class="table-responsive">
						<table ng-table-dynamic="tappctrl.submitappsSorting with tappctrl.submitappscols" class="table table-striped table-vmiddle">
							<tr ng-repeat="row in $data">
								<td ng-repeat="col in $columns">{{row[col.field]}}</td>
								<td ng-repeat="col in tappctrl.submitappsextracols">
									<a href="#/viewapp/{{row[col.field]}}" target="_blank" class="btn bgm-blue m-b-5">Application</a>
								</td>
							</tr>
							<tr ng-if="tappctrl.submitappsavail == 0">
								<td colspan='3'>No submitted applications yet </td>
							</tr>
						</table>
					</div>
				</div>
			</div>
<!-- 
			<div class="card white-block p-20">

				<div class="card-body">
					<div class="col-sm-12">
						<a href="http://www.vcancy.ca/signup" target="_blank" class="btn m-b-5 button-modified">Need to find a place faster? Click here </a>
					</div>
					<div class="clearfix"></div>
				</div>
			</div> -->
		</div>
	</section>
</section>

<footer id="footer" data-ng-include="'views/template/footer.html'"></footer>
<script type="text/javascript">
	Waves.init();
	Waves.attach('.btn');
</script>