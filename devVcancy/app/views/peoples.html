<header class="header" data-current-skin={{mactrl.currentSkin}} login-header>
</header>

<section id="main">
	<aside id="sidebar" login-sidebar data-ng-class="{ 'toggled': mactrl.sidebarToggle.left === true }"></aside>
	<section id="content">

		<div class="container">
			<div class="block-header text-center">
				<h1>Showings and Applications</h1>

			</div>
			<div class="loader" ng-if="lappctrl.loader">
				<div class="preloader pl-xl">
					<svg class="pl-circular" viewBox="25 25 50 50">
						<circle class="plc-path" cx="50" cy="50" r="20" />
					</svg>
				</div>
			</div>
			<div class="card white-block p-20">
				<div class="card-header row">
					<div class="col-sm-6">
						<!-- <div class="col-sm-4" ng-repeat="(key,w) in lappctrl.apppropaddress">
						 <label class="checkbox checkbox-inline m-r-20">
							<input type="checkbox" value="{{w.propID}}" checked="{{lappctrl.propcheck[w.propID]}}" ng-click="lappctrl.tablefilterdata(w.propID)">
							<i class="input-helper"></i>
							{{w.units}}  <span ng-hide="w.units == ' '">-</span>  {{w.address}} 
						</label>
					</div> -->
						<select class="m-input m-input--square" name="more" ng-model="lappctrl.filters.property">
							<option value="">Property</option>
							<option ng-value="key" ng-repeat="(key, property) in lappctrl.properties">
								{{property.name}}
							</option>

						</select>

						<div ng-dropdown-multiselect="" options="lappctrl.questionDropDown" selected-model="lappctrl.filters.questions"></div>
						<select class="m-input m-input--square ml-2" name="more" ng-model="lappctrl.filters.unit" multiple>
							<option value="">All Units</option>
							<option ng-value="unit.unit" ng-repeat="unit in lappctrl.properties[lappctrl.filters.property].unitlists">{{unit.unit}}</option>
						</select>
<<<<<<< HEAD
						<select class="m-input m-input--square ml-2" name="more" multiple>
							<option> Job title</option>
							<option> Pets</option>
							<option> DOB</option>
							<option> Name</option>
							<option> Tell me a bit about yourself</option>
							<option> No. of Applicants</option>
							<option> Smoking</option>
							<option> Move-in date</option>
						</select>
=======
						
						<div ng-dropdown-multiselect="" options="lappctrl.questionDropDown" selected-model="lappctrl.filters.questions"></div>
>>>>>>> 6eb2a9889c274af02305a2e15642b7234e60116b
					</div>
					<div class="col-sm-6">
						<div class="row mb-2">
							<div class="col text-right">
								<button class="btn btn-sm btn-primary" ng-click="lappctrl.openPrescremingQuestions()">Pre-screening Questions</button>
							</div>
						</div>
						<div class="row  mb-2">
							<div class="col text-right">
								<button class="btn btn-sm btn-primary" ng-click="lappctrl.opencustomrentalapp()">Custom rental application</button>
							</div>
						</div>
						<div class="row  mb-2">
							<div class="col text-right">
								<button class="btn btn-sm btn-primary" ng-click="lappctrl.openruncreditcriminalcheck()">Run credit and criminal check</button>
							</div>
						</div>
					</div>
				</div>
				<div class="card-body">
					<div class="table-responsive">
						<div class="table-responsive">
							<table ng-table-dynamic="lappctrl.submitappsSorting with lappctrl.submitappscols" class="table table-striped table-vmiddle">
								<tr ng-repeat="row in $data">
									<td ng-repeat="col in $columns">{{row[col.field]}}</td>
									<td ng-repeat="col in lappctrl.submitappsextracols">

										<a href="https://www.vcancy.ca/checksforlandlords" target="_blank" class="btn bgm-cyan m-b-5">Run Credit Check</a>
										<a href="#/viewapplication/{{row[col.field]}}" target="_blank" class="btn bgm-blue m-b-5">Application</a>

									</td>
								</tr>
								<tr ng-if="lappctrl.submittedappsavail == 0">
									No submitted applications yet </td>
								</tr>
							</table>
						</div>
					</div>
				</div>
			</div>
		</div>

		<script type="text/ng-template" id="prescremingquestions.html">
            <div class="profile_model_popup">
            <div class="modal-header padding-20" >
                <h3 class="modal-title">
						Pre-screening Questions for Prospective Tenants
				</h3>
                <button type="button" class="close margin-top-15" data-dismiss="dialog" ng-click="closePrescreeningModal()" style='margin-top:8px !important'>
                  <span aria-hidden="true">&times;</span>
                  <span class="sr-only">Close</span>
                </button>
            </div>
            <div class="modal-body">
				<div class="checkbox-div">
					<label>
						<input type="checkbox" class="checkbox-position checkbox-width" ng-checked="unit.Aminities.includes('furnished')" ng-click="propctrl.selectCheckbox('furnished',$index)"
						/> Job title
					</label>
				</div>
				<div class="checkbox-div">
					<label>
						<input type="checkbox" class="checkbox-position checkbox-width" ng-checked="unit.Aminities.includes('furnished')" ng-click="propctrl.selectCheckbox('furnished',$index)"
						/> Pets
					</label>
				</div>
				<div class="checkbox-div">
					<label>
						<input type="checkbox" class="checkbox-position checkbox-width" ng-checked="unit.Aminities.includes('furnished')" ng-click="propctrl.selectCheckbox('furnished',$index)"
						/> DOB
					</label>
				</div>
				<div class="checkbox-div">
					<label>
						<input type="checkbox" class="checkbox-position checkbox-width" ng-checked="unit.Aminities.includes('furnished')" ng-click="propctrl.selectCheckbox('furnished',$index)"
						/> Name
					</label>
				</div>
				<div class="checkbox-div">
					<label>
						<input type="checkbox" class="checkbox-position checkbox-width" ng-checked="unit.Aminities.includes('furnished')" ng-click="propctrl.selectCheckbox('furnished',$index)"
						/> Tell me a bit about yourself
					</label>
				</div>
				<div class="checkbox-div">
					<label>
						<input type="checkbox" class="checkbox-position checkbox-width" ng-checked="unit.Aminities.includes('furnished')" ng-click="propctrl.selectCheckbox('furnished',$index)"
						/> No. of Applicants
					</label>
				</div>
				<div class="checkbox-div">
					<label>
						<input type="checkbox" class="checkbox-position checkbox-width" ng-checked="unit.Aminities.includes('furnished')" ng-click="propctrl.selectCheckbox('furnished',$index)"
						/> Smoking
					</label>
				</div>
				<div class="checkbox-div">
					<label>
						<input type="checkbox" class="checkbox-position checkbox-width" ng-checked="unit.Aminities.includes('furnished')" ng-click="propctrl.selectCheckbox('furnished',$index)"
						/> Move-in date
					</label>
				</div>	  
				Add custom question below<br/>
				<div class="row">
					<div class="col">
						<input type="text" style="margin-top:9px" class="form-group"/>
						<button class="btn btn-sm btn-info"><i class="fa fa-plus"></i></button>
					</div>
				</div>
            </div>
            <div class="modal-footer">
				<button class="btn btn-primary" ng-click="closePrescreeningModal()">Close</button>
				<button class="btn btn-success"><i class="fa fa-floppy-o"></i> Save</button>
            </div>
        </div>
	  </script>

		<script type="text/ng-template" id="customrentalapp.html">
		<div class="profile_model_popup">
		<div class="modal-header padding-20" >
			<h3 class="modal-title">
					Custom Rental Application Form
			</h3>
			<button type="button" class="close margin-top-15" data-dismiss="dialog" ng-click="closecustomrentalappModal()" style='margin-top:8px !important'>
			  <span aria-hidden="true">&times;</span>
			  <span class="sr-only">Close</span>
			</button>
		</div>
		<div class="col-xs-12 modal-body">
			<div class="row text-center">
				<div class="col-sm-12">
				<div class="edit-div-hover mb-3" id="imgDiv" style="position:relative;width:25%;color:lightgray;left:37%" >

						<img src="{{ldProfilectrl.userData.companylogo?ldProfilectrl.userData.companylogo:'../assets/pages/img/no_image_found.jpg'}}"
							class="img-responsive pic-bordered image" alt="">
						<div class="middle">
							<div class="text">
								<label style="position:absolute;top:50%;left:50%;">
									<i class="fa fa-pencil fa-2x"></i>
									<input type="file" accept='image/*' file-upload style="display:none" />
								</label>
							</div>
						</div>
						</img>
					</div>
				</div>
			</div>

			<div class="input-sm form-control w-100 fg-input mb-3"></div>

			<div class="mb-3">
					Select the sections that you want to include in your rental application form that prospective tenants complete
			</div>	
	
			<div class="checkbox-div mb-3">
				<input type="checkbox" class="checkbox-position checkbox-width" ng-checked="unit.Aminities.includes('furnished')" ng-click="propctrl.selectCheckbox('furnished',$index)"/>
				<select class="m-input m-input--square m-width" name="more">
					<option value=""> Primary Applicant Details</option>
				</select>
			</div>
			<div class="checkbox-div mb-3">
					<input type="checkbox" class="checkbox-position checkbox-width" ng-checked="unit.Aminities.includes('furnished')" ng-click="propctrl.selectCheckbox('furnished',$index)"/>
					<select class="m-input m-input--square m-width" name="more">
						<option value="">Additional Applicant Details</option>
					</select>
			</div>
			<div class="checkbox-div mb-3">
					<input type="checkbox" class="checkbox-position checkbox-width" ng-checked="unit.Aminities.includes('furnished')" ng-click="propctrl.selectCheckbox('furnished',$index)"/>
					<select class="m-input m-input--square m-width" name="more">
						<option value="">Additional Minor/s Details</option>
					</select>
			</div>
			<div class="checkbox-div mb-3">
					<input type="checkbox" class="checkbox-position checkbox-width" ng-checked="unit.Aminities.includes('furnished')" ng-click="propctrl.selectCheckbox('furnished',$index)"/>
					<select class="m-input m-input--square m-width" name="more">
						<option value="">Employment Status and Income</option>
					</select>
			</div>
			<div class="checkbox-div mb-3">
					<input type="checkbox" class="checkbox-position checkbox-width" ng-checked="unit.Aminities.includes('furnished')" ng-click="propctrl.selectCheckbox('furnished',$index)"/>
					<select class="m-input m-input--square m-width" name="more">
						<option value="">Vehicle information</option>
					</select>
			</div>
			<div class="checkbox-div mb-3">
					<input type="checkbox" class="checkbox-position checkbox-width" ng-checked="unit.Aminities.includes('furnished')" ng-click="propctrl.selectCheckbox('furnished',$index)"/>
					<select class="m-input m-input--square m-width" name="more">
						<option value="">References</option>
					</select>
			</div>
			<div class="checkbox-div mb-3">
					<input type="checkbox" class="checkbox-position checkbox-width" ng-checked="unit.Aminities.includes('furnished')" ng-click="propctrl.selectCheckbox('furnished',$index)"/>
					<select class="m-input m-input--square m-width" name="more">
						<option value="">Emergency contact</option>
					</select>
			</div>
			<div class="checkbox-div mb-3">
					<input type="checkbox" class="checkbox-position checkbox-width" ng-checked="unit.Aminities.includes('furnished')" ng-click="propctrl.selectCheckbox('furnished',$index)"/>
					<textarea rows="6" class="m-input m-input--square m-width" name="more" style="white-space: nowrap;">
You are authorized to obtaining credit checks & verifying details contained in this Application.
		
This unit/s is strictly NON SMOKING. This offer is subject to acceptance by the landlord/property
management company that listed the property.This application is made on the understanding that no 
betterments will be provided to the Rental Unit except those which may be specifically requested in 
this Application and agreed to in writing by the Landlord and specified in a tenancy agreement.

It is understood that this application will not be processed unless fully completed.

If the landlord/property management company accepts this Application, we will sign a Fixed 
Term Tenancy Agreement at the offices of the property management company or in person with
the landlord and pay the security deposit. The Rental Unit will not be considered rented
until the Fixed Term Tenancy Agreement is signed by the Tenant and the Landlord.

We will ensure that the collection, use, disclosure and retention of information will comply with 
the provisions of the Freedom of information and Protection of Privacy Act. 
Information will be collected and used only as necessary and for the intended purpose and will 
not be disclosed as required by law.

I hereby state that the information contained herein is true and I authorize my References
as listed above to release information regarding my employment and/or past/current tenancies.

Tenants are not chosen on a first come â€“ first served basis. We choose the most suitable 
application for the unit at our sole discretion. This application form is to be used only
in the interested of the owner of the rental unit.</textarea>
			</div>
		</div>
		
		<div class="modal-footer mofo">	
			<button class="btn btn-success"><i class="fa fa-floppy-o" ></i> Save</button>			
		</div>
	</div>
  </script>

		<script type="text/ng-template" id="runcreditcriminalcheck.html">
		<div class="profile_model_popup">
		<div class="modal-header padding-20" >
			<h3 class="modal-title">
					Request Credit and Criminal Check Reports
			</h3>
			<button type="button" class="close margin-top-15" data-dismiss="dialog" ng-click="closeruncreditcriminalcheckModal()" style='margin-top:8px !important'>
			  <span aria-hidden="true">&times;</span>
			  <span class="sr-only">Close</span>
			</button>
		</div>
		<div class="col-xs-12 modal-body">
		<div class="col-xs-12 col-sm-6">
				<select class="m-input m-input--square" name="more" ng-model="lappctrl.filters.property">
						<option value="">Select Tenant</option>


				</select>
		</div>
		<div class="col-xs-12 col-sm-6">
			<div class="checkbox-div">
				<label>
					<input type="checkbox" class="checkbox-position checkbox-width" ng-checked="unit.Aminities.includes('furnished')" ng-click="propctrl.selectCheckbox('furnished',$index)"
					/> Credit Report (Transunion) $15/Report
				</label>
			</div>
			<div class="checkbox-div">
				<label>
					<input type="checkbox" class="checkbox-position checkbox-width" ng-checked="unit.Aminities.includes('furnished')" ng-click="propctrl.selectCheckbox('furnished',$index)"
					/> Criminal Record Check $35/Report
				</label>
			</div>
			<div class="checkbox-div">
				<label>
					<input type="checkbox" class="checkbox-position checkbox-width" ng-checked="unit.Aminities.includes('furnished')" ng-click="propctrl.selectCheckbox('furnished',$index)"
					/> Both of the above $45/Report
				</label>
			</div>
		</div>
		</div>
		<div class="modal-footer mofo">	
			<button class="btn btn-success" ng-click="deleteAlert()"><i class="fa fa-floppy-o" ></i> Submit</button>			
		</div>
	</div>
  </script>
	</section>
</section>

<footer id="footer" data-ng-include="'views/template/footer.html'"></footer>
<script type="text/javascript">
	Waves.init();
	Waves.attach('.btn');
</script>