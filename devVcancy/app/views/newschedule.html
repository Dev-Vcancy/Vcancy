<header class="header" data-current-skin={{mactrl.currentSkin}} login-header>
</header>

<section id="main" class="profile-page-both">
  <aside id="sidebar" login-sidebar data-ng-class="{ 'toggled': mactrl.sidebarToggle.left === true }"></aside>
  <section class="new_dashbord" id="content">
    <div class="container">

      <div class="page-content-wrapper">
        <div class="page-content">
          <h1 class="page-title">Viewing Schedule </h1>
          <div class="profile">
            <div class="loader" ng-if="schedulectrl.loader">
              <div class="preloader pl-xl">
                <svg class="pl-circular" viewBox="25 25 50 50">
                  <circle class="plc-path" cx="50" cy="50" r="20" />
                </svg>
              </div>
            </div>

            <div class="row">
              <div class="col-sm-4" style="border:1px solid black">
                <h4>
                  <span class="fa fa-info-circle"></span> Add Availablity</h4>
                <div class="row">
                  <div class="col-sm-6 pl-0">
                    <label for="example-time-input" class="col-sm-12 col-form-label">
                      Property
                      <select class="m-input m-input--square" name="selectProperty" ng-model="newschedulectrl.propertySelected" ng-options="key as value.address for (key, value) in newschedulectrl.properties">
                        <option value=''>Select property</option>
                      </select>

                    </label>
                  </div>
                  <div class="col-sm-6 pl-0" ng-if="newschedulectrl.propertySelected && newschedulectrl.properties[newschedulectrl.propertySelected].units == 'multiple'">
                    <label for="example-time-input" class="col-sm-12 col-form-label">
                      Unit
                      <select class="m-input m-input--square" name="selectProperty" style="min-width: 150px;" ng-model="newschedulectrl.selectedUnitId"
                        ng-options="value.unit as value.unit for value in newschedulectrl.properties[newschedulectrl.propertySelected].unitlists">
                        <option value=''>Select unit</option>
                      </select>
                    </label>
                  </div>
                </div>
                <div class="row mt-3">
                  <div class="col-sm-12">
                    <div class="row">
                      <label for="example-time-input" class="col-sm-4 col-form-label">
                        From Date
                      </label>
                      <div class="col-sm-8">
                        <input type="date" class="m-input m-input--square" name="fromDate" ng-model="newschedulectrl.fromDate" />
                      </div>
                    </div>
                    <div class="row">
                      <label for="example-time-input" class="col-sm-4 col-form-label">
                        To Date
                      </label>
                      <div class="col-sm-8">
                        <input type="date" class="m-input m-input--square" name="toDate" ng-model="newschedulectrl.toDate" />
                      </div>
                    </div>
                  </div>
                </div>
                <div class="row mt-3">
                  <div class="col-sm-8">
                    <div class="row">
                      <label for="example-time-input" class="col-sm-3 col-form-label" style="margin:auto">
                        Time
                      </label>
                      <div class="col-sm-9">
                        <div class="row">
                          <div class="col-sm-6">
                            <label for="example-time-input" class="col-sm-12 col-form-label">
                              From
                              <select class="m-input m-input--square" name="more" ng-model="newschedulectrl.fromTime">
                                <option value="00:00 am">0 am</option>
                                <option value="01:00 am">1 am</option>
                                <option value="02:00 am">2 am</option>
                                <option value="03:00 am">3 am</option>
                                <option value="04:00 am">4 am</option>
                                <option value="05:00 am">5 am</option>
                                <option value="06:00 am">6 am</option>
                                <option value="07:00 am">7 am</option>
                                <option value="08:00 am">8 am</option>
                                <option value="09:00 am">9 am</option>
                                <option value="10:00 am">10 am</option>
                                <option value="11:00 am">11 am</option>
                                <option value="12:00 am">12 am</option>
                                <option value="01:00 pm">1 pm</option>
                                <option value="02:00 pm">2 pm</option>
                                <option value="03:00 pm">3 pm</option>
                                <option value="04:00 pm">4 pm</option>
                                <option value="05:00 pm">5 pm</option>
                                <option value="06:00 pm">6 pm</option>
                                <option value="07:00 pm">7 pm</option>
                                <option value="08:00 pm">8 pm</option>
                                <option value="09:00 pm">9 pm</option>
                                <option value="10:00 pm">10 pm</option>
                                <option value="11:00 pm">11 pm</option>
                              </select>
                            </label>
                          </div>
                          <div class="col-sm-6">
                            <label for="example-time-input" class="col-sm-12 col-form-label">
                              To
                              <select class="m-input m-input--square" name="more" ng-model="newschedulectrl.toTime">
                                <option value="00:00 am">0 am</option>
                                <option value="01:00 am">1 am</option>
                                <option value="02:00 am">2 am</option>
                                <option value="03:00 am">3 am</option>
                                <option value="04:00 am">4 am</option>
                                <option value="05:00 am">5 am</option>
                                <option value="06:00 am">6 am</option>
                                <option value="07:00 am">7 am</option>
                                <option value="08:00 am">8 am</option>
                                <option value="09:00 am">9 am</option>
                                <option value="10:00 am">10 am</option>
                                <option value="11:00 am">11 am</option>
                                <option value="12:00 am">12 am</option>
                                <option value="01:00 pm">1 pm</option>
                                <option value="02:00 pm">2 pm</option>
                                <option value="03:00 pm">3 pm</option>
                                <option value="04:00 pm">4 pm</option>
                                <option value="05:00 pm">5 pm</option>
                                <option value="06:00 pm">6 pm</option>
                                <option value="07:00 pm">7 pm</option>
                                <option value="08:00 pm">8 pm</option>
                                <option value="09:00 pm">9 pm</option>
                                <option value="10:00 pm">10 pm</option>
                                <option value="11:00 pm">11 pm</option>
                              </select>
                            </label>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="row mt-2" style="margin-bottom: 10px">
                  <div class="offset-sm-3 col-sm-3">
                    <button class="btn btn-sm btn-success" ng-click="newschedulectrl.addAvailability($event)">Add</button>
                  </div>
                  <div class="offset-sm-1 col-sm-3">
                    <button class="btn btn-sm btn-danger" ng-click="newschedulectrl.clearAll($event)">Reset</button>
                  </div>
                </div>
              </div>
              <div class="col-sm-8 text-center" style="margin:auto; ">
                <label>Calander coming soon</label>
              </div>
            </div>

            <div class="row mt-5">
              <div class="col-sm-6">
                <button class="btn btn-sm btn-success" ng-click="newschedulectrl.deleteListings($event)">Delete</button>
                <button class="btn btn-sm btn-success" ng-click="craigslistopen(true)">Craigslist Settings</button>
              </div>
            </div>

            <div class="row mt-5">
              <div class="col-sm-12">
                <table class="table table-bordered table-hover">
                  <thead>
                    <tr>
                      <th>
                        <input type="checkbox" ng-model="newschedulectrl.selectedAllListing" ng-click="newschedulectrl.checkAllListing()" />
                      </th>
                      <th>
                        Unit/Property
                      </th>
                      <th>
                        Showing Date/Time
                      </th>
                      <th>
                        Scheduling Link (info)
                      </th>
                      <th>
                        List on Craiglist
                      </th>
                      <th>
                        Listing Status
                      </th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr ng-repeat="(key, value) in newschedulectrl.listings track by $index" id="{{$index}}">
                      <td>
                        <input type="checkbox" ng-model="newschedulectrl.listings[key].inputCheck" />
                      </td>
                      <td>{{value.unitID}} - {{newschedulectrl.properties[value.propertyId].address}}</td>
                      <td>{{newschedulectrl.moment(value.fromDate).format('DD MMM')}} - {{newschedulectrl.moment(value.toDate).format('DD
                        MMM')}} {{value.fromTime}}-{{value.toTime}}</td>
                      <td>
                        <a ng-href='{{value.link}}'>{{value.link}}</a>
                      </td>
                      <td>-</td>
                      <td>{{value.status}}</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>


          </div>
          <!-- Calendar -->
          <!-- <div id="calendar-widget" ng-if="schedulectrl.showCal" data-full-calendar calendardata="schedulectrl.calendardata"></div> -->
        </div>
      </div>
    </div>

  </section>

</section>

<footer id="footer" data-ng-include="'views/template/footer.html'"></footer>
<script type="text/javascript">
  Waves.init();
  Waves.attach('.btn');
</script>
<script type="text/ng-template" id="craigslist.html">
    <div class="profile_model_popup">
    <div class="modal-header padding-20" >
      <h3 class="modal-title">
          Craigslist Settings
      </h3>
      <button type="button" class="close margin-top-15" data-dismiss="dialog" ng-click="craigslistopen(false)" style='margin-top:8px !important'>
        <span aria-hidden="true">&times;</span>
        <span class="sr-only">Close</span>
      </button>
    </div>
    <div class="modal-body text-center">      
          <div class="row mt-3 text-center">
              <div class="col-sm-offset-3 col-sm-6 md-3">
                <input type="text" placeholder="Craigslist Username" class="form-control original-form-control" />
              </div>
          </div>
          <div class="row mt-3 text-center">
              <div class="col-sm-offset-3 col-sm-6 md-3">
                <input type="text" placeholder="Password" class="form-control original-form-control" />
              </div>
          </div>
          <div class="row mt-3 text-center">
              <div class="col-sm-12 md-3">
                <input type="checkbox">Renew my ads after 48 hours of posting <i class="fa fa-info-circle" title="This helps you push your listing on the first page of a craigslist search"></i></div>
            </div>
            <div class="row mt-3 text-center">
								<div class="col-sm-12 md-3">
                  <input type="checkbox">Take ads off after units are rented</div>
							</div>      
        </div>
      </div>
    </div>
    <div class="modal-footer mofo">
      <button class="btn btn-primary ">Save</button>
    </div>
  </div>
  </script>