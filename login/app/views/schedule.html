
<header class="header" data-current-skin={{mactrl.currentSkin}} login-header ></header>

<section id="main">
    <aside id="sidebar"  login-sidebar data-ng-class="{ 'toggled': mactrl.sidebarToggle.left === true }"></aside>
    <section id="content">

        <div class="container">
			<div class="block-header text-center">
				<h2>Viewing Schedule</h2>				
				
            </div>	
			<div class="loader" ng-if="schedulectrl.loader">
	            <div class="preloader pl-xl">
	                <svg class="pl-circular" viewBox="25 25 50 50">
	                    <circle class="plc-path" cx="50" cy="50" r="20"/>
	                </svg>
	            </div>
	      	</div>

			<div class="card white-block p-20">
				<div class="card-header row">
					<div class="col-sm-4" ng-repeat="(key,w) in schedulectrl.schedulepropaddress">
						 <label class="checkbox checkbox-inline m-r-20">
							<input type="checkbox" value="{{w.propID}}" checked="{{schedulectrl.propcheck[w.propID]}}" ng-click="schedulectrl.tablefilterdata(w.propID)">
							<i class="input-helper"></i>
							{{w.units}} - {{w.address}} 
						</label>
					</div>
	         	</div>
				<div class="clearfix"></div>
				<div class="card-body">
					<div class="table-responsive">
						<table ng-table-dynamic="schedulectrl.tableSorting with schedulectrl.cols"  class="table table-striped table-vmiddle">
							<tr ng-repeat="row in $data">
								<td ng-repeat="col in $columns">
									<span ng-if="col.field != 'description'">{{row[col.field]}}</span>
									<span ng-if="col.field == 'description'" tooltip-placement="top" uib-tooltip="{{row.desctooltip}}">{{row[col.field]}}</span>
								</td>
								<td ng-repeat="col in schedulectrl.extracols">
									<button class="btn btn-xs btn-success"  ng-hide="row.schedulestatus == 'confirmed' || row.schedulestatus == 'cancelled' || row.schedulestatus == 'submitted'" ng-click="schedulectrl.confirmschedule(row.scheduleID)">Confirm</button>
									<button class="btn btn-xs btn-danger"  ng-hide="row.schedulestatus == 'cancelled' || row.schedulestatus == 'submitted'" ng-click="schedulectrl.cancelschedule(row.scheduleID)">Cancel</button>
									
									<span class="applied_status btn-xs" ng-show="row.schedulestatus == 'submitted'">Applied</span>
									<span class="cancel_status btn-xs" ng-show="row.schedulestatus == 'cancelled'">Cancelled</span>
								</td>		           
							</tr>
                                                        <tr ng-if="schedulectrl.schedulesavail == 0"><td colspan='8'>
                                                                    No Schedules yet </td>
                                                        </tr>
						</table>
		            </div>
        		</div>
			</div>

			<!-- Calendar -->
                 <div id="calendar-widget" ng-if="schedulectrl.showCal" data-full-calendar calendardata="schedulectrl.calendardata"></div>
		</div>				
    </section>
    
</section>

<footer id="footer" data-ng-include="'views/template/footer.html'"></footer>
<script type="text/javascript">
	Waves.init();
	Waves.attach('.btn');
</script> 

        