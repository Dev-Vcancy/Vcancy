<header class="header" data-current-skin={{mactrl.currentSkin}} login-header ></header>

<section id="main">
    <aside id="sidebar"  login-sidebar data-ng-class="{ 'toggled': mactrl.sidebarToggle.left === true }"></aside>

    <section id="content">

        <div class="container">
			<div class="block-header text-center">
				<h2>{{propctrl.mode}} Property</h2>
            </div>	
			<div class="row">
				<div class="col-sm-12 card">
					<form name="addpropForm" ng-submit="propctrl.submitProp(propctrl.prop)" role="form" novalidate>	
						<input type="hidden" name="landlordID" ng-model="propctrl.prop.landlordID" class="form-control" >
						<input type="hidden" name="propID" ng-model="propctrl.prop.propID" class="form-control">
						
						<div class='message' ng-if="$root.error != ''"><div class="alert alert-danger alert-dismissable fade in">{{$root.error}}</div></div>	
						<div class='message' ng-if="$root.success != ''"><div class="alert alert-success alert-dismissable fade in">{{$root.success}}</div></div>
						<div class="card-header" style="overflow:auto;"><h1  class="pull-left" >{{propctrl.mode}}  Property</h1>						
							<div class="pull-right fileinput fileinput-new" data-provides="fileinput">
								<div class="fileinput-preview thumbnail" data-trigger="fileinput" style="width: 100px; height: 74px; border:1px solid #ccc;">
								<img src="{{propctrl.prop.propimg}}" style="width:100%; margin-top:0 !important;"/>
								</div>
								<div>
									<span class="btn btn-info btn-file waves-effect">
										<span class="fileinput-new">Select image</span>
										<span class="fileinput-exists">Change</span>
										<input type="hidden" ng-model="propctrl.prop.propimg" name="propimg" id="propimg" value="{{propctrl.prop.propimg}}">
										<input type="file" >
									</span>
									<a href="#" class="btn btn-danger fileinput-exists waves-effect" data-dismiss="fileinput">Remove</a>
								</div>
							</div>						
						</div>
						<div class="card-body card-padding">						
							
							<div class="col-sm-2 m-b-20">
								<div class="toggle-switch" data-ts-color="blue">
									<label for="ts3" class="ts-label">Active/Inactive</label>
									<input name="propstatus" ng-model="propctrl.prop.propstatus" id="ts3" type="checkbox" ng-required hidden="hidden">
									<label for="ts3" class="ts-helper"></label>
								</div>
							</div>
						   <div class="col-sm-4 m-b-20" >                
								<select chosen="" class="form-control" name="proptype" ng-model="propctrl.prop.proptype" ng-required data-placeholder="Prop type" class="w-100 localytics-chosen" >
									<option value="">Property type</option>
									<option value="house">House</option>
									<option value="townhouse">Town House</option>
									<option value="apartment">Apartment</option>
									<option value="condo">Condo</option>
									<option value="coop">Co-op</option>
								</select>
							</div>

							<div class="col-sm-4 m-b-20">
								<input type="text" id="units" name="units" ng-model="propctrl.prop.units" ng-required class="form-control" placeholder="# of units">
							</div>

							<div class="col-sm-2 m-b-20">
								<div class="toggle-switch" data-ts-color="blue">
									<label for="ts1" class="ts-label">Shared</label>
									<input name="shared" ng-model="propctrl.prop.shared" id="ts1"  ng-required type="checkbox" hidden="hidden" style="display:inline">
									<label for="ts1" class="ts-helper"></label>
								</div>
							</div>
							
							<div class="col-sm-12 m-b-20">
								<input type="text" id="address" ng-model="propctrl.prop.address" ng-required="true" name="address" class="form-control" placeholder="Address">
							</div>
							
							<div class="col-sm-12 m-b-20">
								<h4>Add showing time slots: <button type="button" data-ng-click="propctrl.addTimeSlot(propctrl.timeSlot.length)" class="btn btn-warning pull-right ">+</button></h4>
								<div class="col-sm-4">Date</div><div class="col-sm-3">Time From</div><div class="col-sm-3">Time To</div><div class="col-sm-2">Persons Limit</div>
								<div class="row" ng-repeat="x in propctrl.timeSlot">
									<div class="col-sm-4">
										<div class="date-picker input-group" ng-class="{ 'is-opened': x.opened == true }">
											<span class="input-group-addon"><i class="zmdi zmdi-calendar ma-icon"></i></span>
											<div class="fg-line" ng-class="{ 'fg-toggled': x.opened == true }">
												<input ng-click="propctrl.open($event, x)" type="text" class="form-control" uib-datepicker-popup="{{propctrl.format}}" show-weeks="false" ng-model="propctrl.prop.date[$index]" name = "date[]" is-open="x.opened" min-date="minDate" datepicker-options="propctrl.dateOptions" ng-required="true" close-text="Close" placeholder="Select Date" />
											</div>
										</div>
									</div>
									<div class="col-sm-3">
										<div class="time-picker input-group">
											<!-- <span class="input-group-addon"><i class="zmdi zmdi-alarm ma-icon"></i></span> -->
											 <div uib-timepicker ng-model="propctrl.prop.fromtime[$index]" name = "fromtime[]" ng-change="propctrl.changed()" ng-click="" hour-step="propctrl.hstep" minute-step="propctrl.mstep" show-meridian="propctrl.ismeridian"></div>
											<!-- <div class="fg-line" ng-class="{ 'fg-toggled': x.timeopened == true }"> -->
												<!-- <input ng-click="propctrl.timeopen($event, x)" type="text" class="form-control" uib-timepicker ng-model="propctrl.propctrl.prop.time" hour-step="1" minute-step="1" show-meridian="ismeridian" name = "time[]" is-open="x.timeopened" ng-required="true" close-text="Close" placeholder="Select Time" /> -->
											<!-- </div> -->
										</div>
									</div>
									<div class="col-sm-3">
										<div class="time-picker input-group">
											<!-- <span class="input-group-addon"><i class="zmdi zmdi-alarm ma-icon"></i></span> -->
											 <div uib-timepicker ng-model="propctrl.prop.to[$index]" name = "to[]" ng-change="propctrl.changed()" ng-click="" hour-step="propctrl.hstep" minute-step="propctrl.mstep" show-meridian="propctrl.ismeridian"></div>
											<!-- <div class="fg-line" ng-class="{ 'fg-toggled': x.timeopened == true }"> -->
												<!-- <input ng-click="propctrl.timeopen($event, x)" type="text" class="form-control" uib-timepicker ng-model="propctrl.propctrl.prop.time" hour-step="1" minute-step="1" show-meridian="ismeridian" name = "time[]" is-open="x.timeopened" ng-required="true" close-text="Close" placeholder="Select Time" /> -->
											<!-- </div> -->
										</div>
										<!-- <div class="time-picker input-group" >  -->
											<!-- <span class="input-group-addon"><i class="zmdi zmdi-alarm ma-icon"></i></span> -->
											<!-- <input ng-click="open($event)" ps-input-time sy-timepicker-popup="HH:mm:ss" class="form-control" ng-model="propctrl.prop.to" show-meridian="false" is-open="opened" ng-controller="syTimepickerController"/> -->
										<!-- </div> -->
									</div>
									<div class="col-sm-2">
										<input type="text" ng-required="true" id="limit" ng-model="propctrl.prop.limit[$index]" name="limit[]" class="form-control" placeholder="Person Limit">
									</div>
								</div>
							</div>
							
							<div class="col-sm-6">
								<a data-ng-click="propctrl.backtoviewprop()" class="btn btn-info  pull-left">&lt;&lt; Back</a>
							</div>
							<div class="col-sm-6">
								<button type="reset" class="btn btn-danger pull-right m-l-10">Cancel</button>
								<button type="submit" ng-disabled="addpropForm.$invalid"  class="btn btn-success pull-right">{{propctrl.submitaction}}  </button>
							</div>	
							<div class="col-sm-12">
								<div class="col-xs-11 col-md-offset-3 col-md-5">
									<input type="text" readonly="true" placeholder="LINK GENERATED HERE" ng-model="propctrl.prop.propertylink" class="form-control" name="propertylink" id="propertylink"/>
								</div>
								<div class="col-xs-1 col-md-1">
									<button type="button" class="btn btn-info" ng-copy="propctrl.prop.propertylink"><i class="zmdi zmdi-copy zmdi-hc-fw" style="font-size:25px;" ></i></button>
								</div>
							</div>
							<div class="clearfix"></div>
						</div>
					</form>			
				</div>
			</div>
		</div>				
    </section>
</section>

<footer id="footer" data-ng-include="'views/template/footer.html'"></footer>

        